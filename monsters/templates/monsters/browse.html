{% extends "monsters/sub_nav.html" %}

{% block li_browse_att %}active{% endblock %}

{% block head2 %}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

      // Load the Visualization API and the controls package.
      google.charts.load('current', {'packages':['corechart', 'controls']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawDashboard);

      // Callback that creates and populates a data table,
      // instantiates a dashboard, a range slider and a pie chart,
      // passes in the data and draws it.
      function drawDashboard() {

        // Create our data table.
        var data = new google.visualization.arrayToDataTable([
            {{ monster_columns|safe }},
            {{ monster_rows|safe }}
          <!--['month', 'data1', 'data2'],-->
          <!--[new Date(2017,1,1), 1, 2],-->
          <!--[new Date(2017,2,1), 3, 7],-->
          <!--[new Date(2017,3,1), 4, 8],-->
          <!--[new Date(2017,4,1), 5, 9],-->
          <!--[new Date(2017,5,1), 6, 10]-->
        ]);

        // Create a dashboard.
        var dashboard = new google.visualization.Dashboard(
            document.getElementById('dashboard_div'));

        // Create a range slider, passing some options
        var rangeSlider = new google.visualization.ControlWrapper({
          'controlType': 'CategoryFilter',
          'containerId': 'cr_filter_div',
          'options': {
            'filterColumnLabel': 'cr',
            ui: {
              sortValues: false,
            }
          }
        });

        // Create a string filter, passing some options
        var nameFilter = new google.visualization.ControlWrapper({
          'controlType': 'StringFilter',
          'containerId': 'name_filter_div',
          'options': {
            'filterColumnLabel': 'name',
            'matchType': 'any',
          }
        });

        // Create a table, passing some options
        var table = new google.visualization.ChartWrapper({
          'chartType': 'Table',
          'containerId': 'chart_div',
          'options': {
            'width': '100%',
            <!--'height': 300,-->
            'allowHtml': true,
          }
        });

        // Establish dependencies
        dashboard.bind(rangeSlider, table);
        dashboard.bind(nameFilter, table);

        // Draw the dashboard.
        dashboard.draw(data);

      }
    </script>
{% endblock %}

{% block content2 %}
  <h1>Monster List</h1>
  <div id="dashboard_div" style="width: 1100; align: center; margin:0 auto; display: block">
      <!--Divs that will hold each control and chart-->
      <div style="width: 100%; align: center; margin:0 auto; display: block">
        <table>
          <tr>
            <td style="width: 50%"><div id="name_filter_div" style="float: left;"></div></td>
            <td style="width: 50%"><div id="cr_filter_div" style="float: right;"></div></td>
          </tr>
        </table>
      </div>
      <br>
      <div id="chart_div" style="width: 100%; display: block; margin:0 auto;"></div>
  </div>

{% endblock %}
